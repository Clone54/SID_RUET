import React, { useState, useRef, useCallback } from 'react';
// import { jsPDF } from "jspdf"; // <<< REMOVE THIS LINE
import { StudentData } from './types';
import InputForm from './components/InputForm';
import { IdCardFront } from './components/IdCardFront';
import IdCardBack from './components/IdCardBack';

const placeholderWatermark = "data:image/png;base64,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";

const App: React.FC = () => {
  const [studentData, setStudentData] = useState<StudentData>({
    fullName: "",
    department: "Department of ",
    idNumber: "",
    bloodGroup: "",
    contactNumber: "+88",
    issueDate: "",
    photo: "https://storage.googleapis.com/aai-sit-lilo-public-untrusted/firoz-ahmed.png",
    signature: "",
    authoritySignature: "Rabiul",
    watermarkPhoto: placeholderWatermark
  });

  // ... the rest of your component code remains the same ...

  const [isDownloading, setIsDownloading] = useState(false);
  const frontCardRef = useRef<HTMLDivElement>(null);
  const backCardRef = useRef<HTMLDivElement>(null);

  const handleDataChange = useCallback((newData: Partial<StudentData>) => {
    setStudentData(prev => ({ ...prev, ...newData }));
  }, []);

  const handleDownload = async () => {
    if (!frontCardRef.current || !backCardRef.current || isDownloading) return;

    const html2canvas = (window as any).html2canvas;
    const jsPDF = (window as any).jspdf.jsPDF;

    if (!html2canvas || !jsPDF) {
      console.error("html2canvas or jsPDF is not defined. Make sure the libraries are loaded.");
      return;
    }

    setIsDownloading(true);
    try {
      const canvasFront = await html2canvas(frontCardRef.current, { scale: 3 });
      const canvasBack = await html2canvas(backCardRef.current, { scale: 3 });

      const imgDataFront = canvasFront.toDataURL('image/png');
      const imgDataBack = canvasBack.toDataURL('image/png');

      const cardWidthMM = 85.6;
      const cardHeightMM = 54;
      
      const pdf = new jsPDF({
        orientation: 'landscape',
        unit: 'mm',
        format: [cardWidthMM, cardHeightMM]
      });

      pdf.addImage(imgDataFront, 'PNG', 0, 0, cardWidthMM, cardHeightMM);
      pdf.addPage();
      pdf.addImage(imgDataBack, 'PNG', 0, 0, cardWidthMM, cardHeightMM);
      pdf.save(`SID-${studentData.idNumber || 'student'}.pdf`);

    } catch (error) {
      console.error("Error generating PDF:", error);
    } finally {
      setIsDownloading(false);
    }
  };

  return (
    <div className="bg-gray-100 min-h-screen p-4 sm:p-8">
      <div className="max-w-7xl mx-auto">
        <header className="text-center mb-8">
          <h1 className="text-3xl sm:text-4xl font-bold text-gray-800">RUET Student ID Card Generator</h1>
          <p className="text-gray-600 mt-2">Fill in the details to generate a live preview of your ID card.</p>
          <p className="text-red-600 mt-2">Use screenshot to save id card instead of using download feature. It is under construction.</p>
        </header>
        
        <main className="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div className="bg-white p-6 rounded-lg shadow-md">
            <InputForm data={studentData} onDataChange={handleDataChange} onDownload={handleDownload} isDownloading={isDownloading} />
          </div>

          <div className="flex flex-col items-center space-y-8">
            <h2 className="text-2xl font-bold text-gray-700 self-start lg:self-center">Live Preview</h2>
            <IdCardFront ref={frontCardRef} data={studentData} />
            <IdCardBack ref={backCardRef} data={studentData} />
          </div>
        </main>
      </div>
    </div>
  );
};

export default App;
